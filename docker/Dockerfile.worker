# Worker service for job processing
# Implements [foundation-api:NFR-005] - Containerisation

FROM cherwell-base:latest

# Health check - verify worker can connect to Redis
HEALTHCHECK --interval=30s --timeout=10s --start-period=10s --retries=3 \
    CMD python -c "import redis; r = redis.from_url('${REDIS_URL:-redis://redis:6379/0}'); r.ping()"

# Run the worker
CMD ["arq", "src.worker.main.WorkerSettings"]
